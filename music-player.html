<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="stylesheet/bootstrap.min.css">
    <script src="scripts/jquery.js"></script>
    <script src="scripts/bootstrap.min.js"></script>
    <script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>
    <link rel="stylesheet"
          href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet"
          href="https://code.getmdl.io/1.3.0/material.indigo-pink.min.css">
    <link rel="stylesheet" href="stylesheet/music-player.css">
    <title>Music Player</title>
</head>
<body>
<script src="https://js-cdn.music.apple.com/musickit/v1/musickit.js"></script>
<script src="scripts/applemusic.js"></script>
<button id="show-dialog" type="button" class="mdl-button">Show Dialog</button>
<dialog class="mdl-dialog" style="width: 90%;position: absolute;top:10%">
    <h4 class="mdl-dialog__title">Apple Music</h4>
    <div class="mdl-dialog__content" >
        <div class="row">
            <div class="mdl-textfield mdl-js-textfield">
                <input class="mdl-textfield__input" type="text" id="songName">
                <label class="mdl-textfield__label" for="songName">Text...</label>
            </div>
            <button id="searchBtn" class="mdl-button mdl-js-button mdl-button--raised mdl-button--colored">
                Search
            </button>
        </div>
        <div class="applemusic" id="applemusic"></div>

    </div>
    <div class="mdl-dialog__actions">
        <button type="button" class="mdl-button close">Cancel</button>
    </div>
</dialog>
<script>
    var dialog = document.querySelector('dialog');
    var showDialogButton = document.querySelector('#show-dialog');
    showDialogButton.addEventListener('click', function() {
        dialog.showModal();
    });
    dialog.querySelector('.close').addEventListener('click', function() {
        dialog.close();
    });
</script>
<script>
    const applemusic = new Applemusic(dialog);
    applemusic.createHTML();
    $("#searchBtn").click(function () {
        var songName = $('#songName').val();
        applemusic.search("shake it off");
        console.log("here")
    });

</script>
</body>

</html>